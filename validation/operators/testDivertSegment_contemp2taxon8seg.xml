<beast version="2.0"
       namespace="beast.core
                 :beast.core.util
                 :beast.core.parameter
                 :beast.evolution.alignment
                 :beast.evolution.likelihood
                 :beast.evolution.tree
                 :beast.evolution.tree.coalescent
                 :beast.evolution.sitemodel
                 :beast.evolution.substitutionmodel
                 :beast.evolution.operators
                 :beast.math.distributions
                 :feast.simulation
                 :coalre.network
                 :coalre.statistics
                 :coalre.simulator
                 :coalre.operators
                 :coalre.distribution
                 :coalre.util">

    <run spec="MCMC" chainLength="10000000">

        <state>
            <stateNode id="network" spec="SimulatedCoalescentNetwork">
                <populationModel spec="ConstantPopulation">
                    <popSize spec="RealParameter" value="1.0"/>
                </populationModel>

                <reassortmentRate spec="RealParameter" value="1.0"/>

                <segmentTree id="segment1" spec="Tree">
                    <trait spec="TraitSet" traitname="date-backward" id="traitSet">
                        <taxa spec="TaxonSet" id="taxonSet">
                            <taxon spec="Taxon" id="t1"/>
                            <taxon spec="Taxon" id="t2"/>
                        </taxa>

                        t1=0, t2=0.0
                    </trait>
                </segmentTree>
                <segmentTree id="segment2" spec="Tree" trait="@traitSet"/>
                <segmentTree id="segment3" spec="Tree" trait="@traitSet"/>
                <segmentTree id="segment4" spec="Tree" trait="@traitSet"/>
                <segmentTree id="segment5" spec="Tree" trait="@traitSet"/>
                <segmentTree id="segment6" spec="Tree" trait="@traitSet"/>
                <segmentTree id="segment7" spec="Tree" trait="@traitSet"/>
                <segmentTree id="segment8" spec="Tree" trait="@traitSet"/>
            </stateNode>
        </state>

        <distribution id="coalDensity" spec="CoalescentWithReassortment">
            <networkIntervals spec="NetworkIntervals" network="@network"/>

            <populationModel spec="ConstantPopulation">
                <popSize spec="RealParameter" value="1.0"/>
            </populationModel>

            <reassortmentRate spec="RealParameter" value="1.0"/>
        </distribution>

        <operator spec="UniformNetworkNodeHeightOperator" network="@network" weight="0.0"/>
        <!--operator spec="DivertSegmentOperator" network="@network" weight="1.0"/-->
        <operator spec="ReinitGibbsOperator" stateNode="@network" weight="1.00"/>

        <logger spec="Logger" logEvery="10000" mode="tree" fileName="$(filebase).trees">
            <log idref="network"/>
        </logger>

        <logger spec="Logger" logEvery="100" fileName="$(filebase).log">
            <log spec="NetworkStatsLogger" network="@network"/>
        </logger>

        <logger spec="Logger" logEvery="10000">
            <log spec="NetworkStatsLogger" network="@network"/>
        </logger>
    </run>

</beast>